webpackJsonp([10],{"94Yz":function(t,e){},j61a:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("bOdI"),n=a.n(i),s=a("w8L6"),o={data:function(){var t;return t={id:0,analysics:!1,message:"",label:"",labels:[],count:[],loading:!1,search_shortlist:"",project:{},dialog:!1,dialog1:!1,search:""},n()(t,"loading",!1),n()(t,"IMAGE_URL",s.b),n()(t,"FILE_URL",s.a),n()(t,"image",""),n()(t,"name",""),n()(t,"headers",[{text:"#Bid Id",value:"id"},{text:"Company Name",value:"company_name"},{text:"Experience",value:"experience"},{text:"Budget",value:"budget"},{text:"Status",value:"status"}]),n()(t,"bids",[]),n()(t,"objData",{}),n()(t,"shortlisted",[]),t},computed:{_label:function(){return this.label},_labels:function(){return this.labels},_count:function(){return this.count}},methods:{getBids:function(){var t=this;this.objData.url=s.c+"admin/project/bids/"+this.$route.params.id,this.$store.dispatch("getReqData",this.objData).then(function(e){t.bids=e.data,t.shortlisted=t.bids.filter(function(t){return 3==t.status}),t.bids=t.bids.filter(function(t){return t.status<3});var a;a=t.bids.filter(function(t){return 1==t.status});var i;i=t.bids.filter(function(t){return 0==t.status}),t.label="Line Chart",t.labels=["Shortlisted","Invited","Active"],t.count=[t.shortlisted.length,a.length,i.length],console.log(t.count)}).catch(function(t){console.log(t)})},routeWithParams:function(t,e){this.$router.push({name:t,params:{id:e}})},viewMedia:function(t){this.dialog=!0,this.image=t},viewGrant:function(t,e){this.name=e,this.id=t,this.message="Dear "+this.name+", As a result of your application for the bid on ("+this.project.name+"), I would like to invite you to atten an interview on (date) at our office in (sample),MA. You will have the interview with the department manager, (sample). The interview will last about (45minutes). Please bring a copy of your driver's license to the interview. If the date or time of the interview is inconvenient, please contact vector by phone on (024444444) to arrange another appointment. We look forward to seeing you  ",this.dialog1=!0},sendInvitation:function(){var t=this;this.loading=!0,this.objData.url=s.c+"admin/grant/interview",this.objData.id=this.id,this.objData.message=""+this.message,this.$store.dispatch("postReqData",this.objData).then(function(e){t.loading=!1,t.dialog1=!1,t.$store.dispatch("success",e.body.data),t.getBids()}).catch(function(e){t.loading=!1,t.dialog1=!1,t.$store.dispatch("error",e.body.data)})},getProject:function(){var t=this;this.objData.url=s.c+"admin/project/"+this.$route.params.id,this.$store.dispatch("getReqData",this.objData).then(function(e){console.log(e),t.project=e.project}).catch(function(t){console.log(t)})}},created:function(){this.getProject(),this.getBids(),window.print()}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",[a("v-list",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("div",{staticStyle:{"font-size":"25px","text-align":"center"}},[a("u",[t._v("Report on "+t._s(t.project.name)+" created on "+t._s(t._f("date")(t.project.created_at)))])]),t._v(" "),a("v-layout",{attrs:{wrap:"",row:""}},[a("v-flex",{attrs:{md6:""}},[a("v-btn",{attrs:{color:"red",dark:""},on:{click:function(e){t.analysics=!t.analysics}}},[t._v("\n                      Statistics\n                  ")]),t._v(" "),a("data-chart",{attrs:{label:t.label,labels:t.labels,data:t.count}})],1),t._v(" "),a("v-flex",{attrs:{md6:""}},[a("v-container",[a("div",[t._v("\n                          Number of contractors granted an invitation : "+t._s(this.count[1])+"\n                      ")]),t._v(" "),a("div",[t._v("\n                          Number of contractors active : "+t._s(this.count[2])+"\n                      ")]),t._v(" "),a("div",[t._v("\n                          Number of contractors shortlisted : "+t._s(this.count[0])+"\n                      ")])])],1)],1)],1)],1)],1),t._v(" "),a("v-card",[a("v-card-title",[t._v("\n          View Bids\n          "),a("v-spacer")],1),t._v(" "),a("v-data-table",{attrs:{headers:t.headers,items:t.bids},scopedSlots:t._u([{key:"items",fn:function(e){return[a("tr",{class:{invited:1==e.item.status,shortlist:3==e.item.status}},[a("td",[t._v(t._s(e.item.id))]),t._v(" "),a("td",[t._v(t._s(e.item.company_name))]),t._v(" "),a("td",[t._v("\n                  "+t._s(e.item.experience)+"\n              ")]),t._v(" "),a("td",[t._v("\n                  GHS "+t._s(e.item.budget)+"\n              ")]),t._v(" "),e.item.status?1==e.item.status?a("td",[t._v("Invited")]):2==e.item.status?a("td",[t._v("Granted")]):3==e.item.status?a("td",[t._v("Shortlisted")]):t._e():a("td",[t._v("Active\n              ")])])]}}])})],1),t._v(" "),a("v-card",[a("v-card-title",[t._v("\n          Shortlisted Bids\n          "),a("v-spacer")],1),t._v(" "),a("v-data-table",{attrs:{headers:t.headers,items:t.shortlisted},scopedSlots:t._u([{key:"items",fn:function(e){return[a("tr",{class:{invited:1==e.item.status}},[a("td",[t._v(t._s(e.item.id))]),t._v(" "),a("td",[t._v(t._s(e.item.company_name))]),t._v(" "),a("td",[t._v("\n                  "+t._s(e.item.experience)+"\n              ")]),t._v(" "),a("td",[t._v("\n                  GHS "+t._s(e.item.budget)+"\n              ")]),t._v(" "),e.item.status?1==e.item.status?a("td",[t._v("Invited")]):2==e.item.status?a("td",[t._v("Granted")]):3==e.item.status?a("td",[t._v("Shortlisted")]):t._e():a("td",{staticClass:"text-xs-right"},[t._v("\n                  Active\n              ")])])]}}])},[t._v(" "),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n          Your search for "'+t._s(t.search)+'" found no results.\n      ')])],1)],1),t._v(" "),a("page-load",{attrs:{show:t.loading}}),t._v(" "),a("div",{staticClass:"text-xs-center"},[a("v-dialog",{attrs:{width:"600"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-container",[a("img",{attrs:{height:"500",width:"500",src:t.IMAGE_URL+"/"+t.image,alt:"preview"}})])],1)],1),t._v(" "),a("v-dialog",{attrs:{"max-width":"500"},model:{value:t.dialog1,callback:function(e){t.dialog1=e},expression:"dialog1"}},[a("v-card",{attrs:{dark:""}},[a("v-card-title",{staticClass:"headline"},[t._v("Grant Invitation")]),t._v(" "),a("v-card-text",[a("center",[t._v(" Send "),a("v-chip",[t._v(" "+t._s(this.name)+" ")]),t._v("  an invitation ")],1)],1),t._v(" "),a("v-card-text",[a("form",[a("v-layout",[a("v-flex"),t._v(" "),a("v-flex")],1),t._v(" "),a("v-textarea",{attrs:{autofocus:"",color:"white","auto-grow":"",solo:"",name:"input-7-4",label:"Solo textarea",value:"Dear "+this.name+", \n                  As a result of your application for the bid on \n                  ("+this.project.name+"), I would like to invite \n                  you to atten an interview on (date) at our office\n                   in (sample),MA. You will have the interview with the \n                   department manager, (sample). \n                   The interview will last about (45minutes). \n                   Please bring a copy of your driver's license \n                   to the interview. If \n                   the date or time of the interview is \n                   inconvenient, please contact vector by phone \n                   on (024444444) to arrange another appointment.\n                    We look forward to seeing you  "},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}})],1)]),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(e){t.dialog1=!1}}},[t._v("\n          Disagree\n        ")]),t._v(" "),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(e){return t.sendInvitation()}}},[t._v("\n          Send\n        ")])],1)],1)],1),t._v(" "),a("page-load",{attrs:{show:t.loading}})],1)},staticRenderFns:[]};var l=a("VU/8")(o,r,!1,function(t){a("94Yz")},"data-v-5fcfb96c",null);e.default=l.exports}});
//# sourceMappingURL=10.07cbacffc2991b045fa4.js.map