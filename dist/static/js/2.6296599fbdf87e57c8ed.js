webpackJsonp([2],{QQ5z:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("bOdI"),i=a.n(n),s=a("w8L6"),o={data:function(){var t;return t={id:0,analysics:!1,message:"",label:"",labels:[],count:[],loading:!1,search_shortlist:"",project:{},dialog:!1,dialog1:!1,search:""},i()(t,"loading",!1),i()(t,"IMAGE_URL",s.b),i()(t,"FILE_URL",s.a),i()(t,"image",""),i()(t,"name",""),i()(t,"headers",[{text:"#Bid Id",value:"id"},{text:"Company Name",value:"company_name"},{text:"Experience",value:"experience"},{text:"Budget",value:"budget"},{text:"Vat Cert.",value:"vat"},{text:"Tax Cert",value:"tax"},{text:"Business Cert",value:"business"},{text:"CV",value:"cv"},{text:"Status",value:"status"},{text:"Options",value:"options"}]),i()(t,"bids",[]),i()(t,"objData",{}),i()(t,"shortlisted",[]),t},computed:{_label:function(){return this.label},_labels:function(){return this.labels},_count:function(){return this.count}},methods:{generateReport:function(){this.$router.push({name:"Bid Report",params:this.$route.params.id})},getBids:function(){var t=this;this.objData.url=s.c+"admin/project/bids/"+this.$route.params.id,this.$store.dispatch("getReqData",this.objData).then(function(e){t.bids=e.data,t.shortlisted=t.bids.filter(function(t){return 3==t.status}),t.bids=t.bids.filter(function(t){return t.status<3});var a;a=t.bids.filter(function(t){return 1==t.status});var n;n=t.bids.filter(function(t){return 0==t.status}),t.label="Line Chart",t.labels=["Shortlisted","Invited","Active"],t.count=[t.shortlisted.length,a.length,n.length],console.log(t.count)}).catch(function(t){console.log(t)})},routeWithParams:function(t,e){this.$router.push({name:t,params:{id:e}})},viewMedia:function(t){this.dialog=!0,this.image=t},viewGrant:function(t,e){this.name=e,this.id=t,this.message="Dear "+this.name+", As a result of your application for the bid on ("+this.project.name+"), I would like to invite you to atten an interview on (date) at our office in (sample),MA. You will have the interview with the department manager, (sample). The interview will last about (45minutes). Please bring a copy of your driver's license to the interview. If the date or time of the interview is inconvenient, please contact vector by phone on (024444444) to arrange another appointment. We look forward to seeing you  ",this.dialog1=!0},sendInvitation:function(){var t=this;this.loading=!0,this.objData.url=s.c+"admin/grant/interview",this.objData.id=this.id,this.objData.message=""+this.message,this.$store.dispatch("postReqData",this.objData).then(function(e){t.loading=!1,t.dialog1=!1,t.$store.dispatch("success",e.body.data),t.getBids()}).catch(function(e){t.loading=!1,t.dialog1=!1,t.$store.dispatch("error",e.body.data)})},getProject:function(){var t=this;this.objData.url=s.c+"admin/project/"+this.$route.params.id,this.$store.dispatch("getReqData",this.objData).then(function(e){console.log(e),t.project=e.project}).catch(function(t){console.log(t)})}},created:function(){this.getProject(),this.getBids()}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",[a("v-list",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-layout",{attrs:{wrap:"",row:""}},[a("v-flex",{attrs:{md6:""}},[a("v-btn",{attrs:{color:"red",dark:""},on:{click:function(e){t.analysics=!t.analysics}}},[t._v("\n                      Statistics\n                  ")]),t._v(" "),a("data-chart",{attrs:{label:t.label,labels:t.labels,data:t.count}})],1),t._v(" "),a("v-flex",{attrs:{md6:""}},[a("v-btn",{attrs:{color:"purple",dark:""},on:{click:function(e){return t.generateReport()}}},[t._v("\n              Generate Report\n          ")]),t._v(" "),a("v-container",[a("div",[t._v("\n                          Number of contractors granted an invitation : "+t._s(this.count[1])+"\n                      ")]),t._v(" "),a("div",[t._v("\n                          Number of contractors active : "+t._s(this.count[2])+"\n                      ")]),t._v(" "),a("div",[t._v("\n                          Number of contractors shortlisted : "+t._s(this.count[0])+"\n                      ")])])],1)],1)],1)],1)],1),t._v(" "),a("v-card",[a("v-card-title",[t._v("\n          View Bids\n          "),a("v-spacer"),t._v(" "),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-data-table",{attrs:{headers:t.headers,items:t.bids,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("tr",{class:{invited:1==e.item.status,shortlist:3==e.item.status}},[a("td",[t._v(t._s(e.item.id))]),t._v(" "),a("td",[t._v(t._s(e.item.company_name))]),t._v(" "),a("td",[t._v("\n                  "+t._s(e.item.experience)+"\n              ")]),t._v(" "),a("td",[t._v("\n                  GHS "+t._s(e.item.budget)+"\n              ")]),t._v(" "),a("td",[a("v-chip",{attrs:{label:""},on:{click:function(a){return t.viewMedia("vat/"+e.item.vat)}}},[a("v-icon",{attrs:{left:""}},[t._v("all_out")]),t._v("Vat\n                  ")],1)],1),t._v(" "),a("td",[a("v-chip",{attrs:{label:""},on:{click:function(a){return t.viewMedia("tax/"+e.item.tax)}}},[a("v-icon",{attrs:{left:""}},[t._v("monetization_on")]),t._v("Tax\n                  ")],1)],1),t._v(" "),a("td",[a("v-chip",{attrs:{label:""},on:{click:function(a){return t.viewMedia("business/"+e.item.business)}}},[a("v-icon",{attrs:{left:""}},[t._v("business")]),t._v("Business\n                  ")],1)],1),t._v(" "),a("td",[a("v-chip",{attrs:{label:""}},[a("a",{attrs:{href:t.FILE_URL+"/"+e.item.cv,download:e.item.company_name+"-cv"}},[a("v-icon",{attrs:{left:""}},[t._v("attach_file")]),t._v("CV                            \n                      ")],1)])],1),t._v(" "),e.item.status?1==e.item.status?a("td",[t._v("Invited")]):2==e.item.status?a("td",[t._v("Granted")]):3==e.item.status?a("td",[t._v("Shortlisted")]):t._e():a("td",{staticClass:"text-xs-right"},[t._v("\n                  Active\n              ")]),t._v(" "),a("td",{staticStyle:{width:"20%"}},[a("v-tooltip",{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-btn",t._g({attrs:{fab:"",small:"",color:"info",dark:""}},n),[a("v-icon",[t._v("visibility")])],1)]}}],null,!0)},[t._v(" "),a("span",[t._v("Project")])]),t._v(" "),a("v-tooltip",{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function(n){var i=n.on;return[a("v-btn",t._g({attrs:{fab:"",small:"",color:"#2c3e50",dark:""},on:{click:function(a){return t.viewGrant(e.item.id,e.item.company_name)}}},i),[a("v-icon",[t._v("gavel")])],1)]}}],null,!0)},[t._v(" "),a("span",[t._v("Grant")])]),t._v(" "),a("v-tooltip",{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function(n){var i=n.on;return[a("v-btn",t._g({attrs:{fab:"",small:"",color:"warning",dark:""},on:{click:function(a){return t.viewGrant(e.item.id)}}},i),[a("v-icon",[t._v("verified_user")])],1)]}}],null,!0)},[t._v(" "),a("span",[t._v("verified_user")])])],1)])]}}])},[t._v(" "),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n          Your search for "'+t._s(t.search)+'" found no results.\n      ')])],1)],1),t._v(" "),a("v-card",[a("v-card-title",[t._v("\n          Shortlisted Bids\n          "),a("v-spacer"),t._v(" "),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search_shortlist,callback:function(e){t.search_shortlist=e},expression:"search_shortlist"}})],1),t._v(" "),a("v-data-table",{attrs:{headers:t.headers,items:t.shortlisted,search:t.search_shortlist},scopedSlots:t._u([{key:"items",fn:function(e){return[a("tr",{class:{invited:1==e.item.status}},[a("td",[t._v(t._s(e.item.id))]),t._v(" "),a("td",[t._v(t._s(e.item.company_name))]),t._v(" "),a("td",[t._v("\n                  "+t._s(e.item.experience)+"\n              ")]),t._v(" "),a("td",[t._v("\n                  GHS "+t._s(e.item.budget)+"\n              ")]),t._v(" "),a("td",[a("v-chip",{attrs:{label:""},on:{click:function(a){return t.viewMedia("vat/"+e.item.vat)}}},[a("v-icon",{attrs:{left:""}},[t._v("all_out")]),t._v("Vat\n                  ")],1)],1),t._v(" "),a("td",[a("v-chip",{attrs:{label:""},on:{click:function(a){return t.viewMedia("tax/"+e.item.tax)}}},[a("v-icon",{attrs:{left:""}},[t._v("monetization_on")]),t._v("Tax\n                  ")],1)],1),t._v(" "),a("td",[a("v-chip",{attrs:{label:""},on:{click:function(a){return t.viewMedia("business/"+e.item.business)}}},[a("v-icon",{attrs:{left:""}},[t._v("business")]),t._v("Business\n                  ")],1)],1),t._v(" "),a("td",[a("v-chip",{attrs:{label:"",color:"warning","text-color":"white"}},[a("a",{attrs:{href:t.FILE_URL+"/"+e.item.cv,download:e.item.company_name+"-cv"}},[a("v-icon",{attrs:{left:""}},[t._v("attach_file")]),t._v("CV                            \n                      ")],1)])],1),t._v(" "),e.item.status?1==e.item.status?a("td",[t._v("Invited")]):2==e.item.status?a("td",[t._v("Granted")]):3==e.item.status?a("td",[t._v("Shortlisted")]):t._e():a("td",{staticClass:"text-xs-right"},[t._v("\n                  Active\n              ")]),t._v(" "),a("td",{staticStyle:{width:"20%"}},[a("v-tooltip",{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-btn",t._g({attrs:{fab:"",small:"",color:"info",dark:""}},n),[a("v-icon",[t._v("visibility")])],1)]}}],null,!0)},[t._v(" "),a("span",[t._v("Project")])]),t._v(" "),a("v-tooltip",{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function(n){var i=n.on;return[a("v-btn",t._g({attrs:{fab:"",small:"",color:"#2c3e50",dark:""},on:{click:function(a){return t.viewGrant(e.item.id,e.item.company_name)}}},i),[a("v-icon",[t._v("gavel")])],1)]}}],null,!0)},[t._v(" "),a("span",[t._v("Grant")])]),t._v(" "),a("v-tooltip",{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function(n){var i=n.on;return[a("v-btn",t._g({attrs:{fab:"",small:"",color:"#C1A724",dark:""},on:{click:function(a){return t.viewGrant(e.item.id)}}},i),[a("v-icon",[t._v("verified_user")])],1)]}}],null,!0)},[t._v(" "),a("span",[t._v("verified_user")])])],1)])]}}])},[t._v(" "),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n          Your search for "'+t._s(t.search)+'" found no results.\n      ')])],1)],1),t._v(" "),a("page-load",{attrs:{show:t.loading}}),t._v(" "),a("div",{staticClass:"text-xs-center"},[a("v-dialog",{attrs:{width:"600"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-container",[a("img",{attrs:{height:"500",width:"500",src:t.IMAGE_URL+"/"+t.image,alt:"preview"}})])],1)],1),t._v(" "),a("v-dialog",{attrs:{"max-width":"500"},model:{value:t.dialog1,callback:function(e){t.dialog1=e},expression:"dialog1"}},[a("v-card",{attrs:{dark:""}},[a("v-card-title",{staticClass:"headline"},[t._v("Grant Invitation")]),t._v(" "),a("v-card-text",[a("center",[t._v(" Send "),a("v-chip",[t._v(" "+t._s(this.name)+" ")]),t._v("  an invitation ")],1)],1),t._v(" "),a("v-card-text",[a("form",[a("v-layout",[a("v-flex"),t._v(" "),a("v-flex")],1),t._v(" "),a("v-textarea",{attrs:{autofocus:"",color:"white","auto-grow":"",solo:"",name:"input-7-4",label:"Solo textarea",value:"Dear "+this.name+", \n                  As a result of your application for the bid on \n                  ("+this.project.name+"), I would like to invite \n                  you to atten an interview on (date) at our office\n                   in (sample),MA. You will have the interview with the \n                   department manager, (sample). \n                   The interview will last about (45minutes). \n                   Please bring a copy of your driver's license \n                   to the interview. If \n                   the date or time of the interview is \n                   inconvenient, please contact vector by phone \n                   on (024444444) to arrange another appointment.\n                    We look forward to seeing you  "},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}})],1)]),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(e){t.dialog1=!1}}},[t._v("\n          Disagree\n        ")]),t._v(" "),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(e){return t.sendInvitation()}}},[t._v("\n          Send\n        ")])],1)],1)],1),t._v(" "),a("page-load",{attrs:{show:t.loading}})],1)},staticRenderFns:[]};var l=a("VU/8")(o,r,!1,function(t){a("q330")},"data-v-e7c4535c",null);e.default=l.exports},q330:function(t,e){}});
//# sourceMappingURL=2.6296599fbdf87e57c8ed.js.map